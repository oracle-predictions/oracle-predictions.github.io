var _=function(){return _=Object.assign||function(a){for(var r,i=1,t=arguments.length;i<t;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])}return a},_.apply(this,arguments)};function G(e,a){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,i=Object.getOwnPropertySymbols(e);t<i.length;t++)a.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(e,i[t])&&(r[i[t]]=e[i[t]]);return r}function U(e,a,r,i){function t(n){return n instanceof r?n:new r(function(p){p(n)})}return new(r||(r=Promise))(function(n,p){function s(c){try{o(i.next(c))}catch(W){p(W)}}function l(c){try{o(i.throw(c))}catch(W){p(W)}}function o(c){c.done?n(c.value):t(c.value).then(s,l)}o((i=i.apply(e,[])).next())})}function q(e,a){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,t,n,p;return p={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function s(o){return function(c){return l([o,c])}}function l(o){if(i)throw new TypeError("Generator is already executing.");for(;p&&(p=0,o[0]&&(r=0)),r;)try{if(i=1,t&&(n=o[0]&2?t.return:o[0]?t.throw||((n=t.return)&&n.call(t),0):t.next)&&!(n=n.call(t,o[1])).done)return n;switch(t=0,n&&(o=[o[0]&2,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,t=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(o[0]===6&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(e,r)}catch(c){o=[6,c],t=0}finally{i=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function O(e,a,r){for(var i=0,t=a.length,n;i<t;i++)(n||!(i in a))&&(n||(n=Array.prototype.slice.call(a,0,i)),n[i]=a[i]);return e.concat(n||Array.prototype.slice.call(a))}function J(){return{current:0,next:function(){return++this.current}}}function z(e){var a=J(),r={};return{add:function(i,t){var n=t??"".concat(a.next(),"_").concat(e);return r[n]=i,n},resolve:function(i,t,n){var p=r[i];p&&(n(t)?p.resolve(t):p.reject(t),r[i]=null)}}}function L(e,a,r){var i=z(r);return a(function(t){if(!(!t.detail||!t.detail.data||typeof t.detail.data!="object")&&"request_id"in t.detail.data){var n=t.detail.data,p=n.request_id,s=G(n,["request_id"]);p&&i.resolve(p,s,function(l){return!("error_type"in l)})}}),function(n,p){return p===void 0&&(p={}),new Promise(function(s,l){var o=i.add({resolve:s,reject:l},p.request_id);e(n,_(_({},p),{request_id:o}))})}}function Z(){var e=36,a=2,r=3;return Math.random().toString(e).substring(a,a+r)}var K=typeof window<"u",S=!!(K&&window.AndroidBridge),w=!!(K&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),g=!!(K&&window.ReactNativeWebView&&typeof window.ReactNativeWebView.postMessage=="function"),v=K&&!S&&!w,Y=v&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),$=v&&!Y,B=v?"message":"VKWebAppEvent",Q=O(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile","VKWebAppGetFriends"],$?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"]),b,V=K?window.AndroidBridge:void 0,A=w?window.webkit.messageHandlers:void 0,E=v?parent:void 0;function X(e){var a=void 0,r=[],i=Z();function t(u,d){V&&V[u]?V[u](JSON.stringify(d)):A&&A[u]&&typeof A[u].postMessage=="function"?A[u].postMessage(d):g?window.ReactNativeWebView.postMessage(JSON.stringify({handler:u,params:d})):E&&typeof E.postMessage=="function"&&E.postMessage({handler:u,params:d,type:"vk-connect",webFrameId:a,connectVersion:e},"*")}function n(u){r.push(u)}function p(u){var d=r.indexOf(u);d>-1&&r.splice(d,1)}function s(u){return console.warn("This method is deprecated. Use supportsAsync instead."),S?!!(V&&typeof V[u]=="function"):w?!!(A&&A[u]&&typeof A[u].postMessage=="function"):v?Q.includes(u):!1}function l(){return w||S}function o(){return v&&window.parent!==window}function c(){return l()||o()}function W(){return!c()}function T(u){if(w||S)return O([],r).map(function(y){return y.call(null,u)});var d=u==null?void 0:u.data;if(!(!v||!d)){if(g&&typeof d=="string")try{d=JSON.parse(d)}catch{}var f=d.type,P=d.data,F=d.frameId;if(f){if(f==="VKWebAppSettings"){a=F;return}O([],r).map(function(y){return y({detail:{type:f,data:P}})})}}}g&&/(android)/i.test(navigator.userAgent)?document.addEventListener(B,T):typeof window<"u"&&"addEventListener"in window&&window.addEventListener(B,T);var h=L(t,n,i);function j(u){return U(this,void 0,void 0,function(){var d;return q(this,function(f){switch(f.label){case 0:if(S||w)return[2,s(u)];if(b)return[2,b.includes(u)];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,h("SetSupportedHandlers")];case 2:return d=f.sent(),b=d.supportedHandlers,[2,b.includes(u)];case 3:return f.sent(),b=["VKWebAppInit"],[2,b.includes(u)];case 4:return[2]}})})}return n(function(u){if(u.detail)switch(u.detail.type){case"SetSupportedHandlers":b=u.detail.data.supportedHandlers}}),{send:h,sendPromise:h,subscribe:n,unsubscribe:p,supports:s,supportsAsync:j,isWebView:l,isIframe:o,isEmbedded:c,isStandalone:W}}var ee="2.15.3",N;(function(e){e.REWARD="reward",e.INTERSTITIAL="interstitial"})(N||(N={}));var M;(function(e){e.RESIZE="resize",e.OVERLAY="overlay"})(M||(M={}));var C;(function(e){e.TOP="top",e.BOTTOM="bottom"})(C||(C={}));var x;(function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center"})(x||(x={}));var D;(function(e){e.COMPACT="compact",e.REGULAR="regular"})(D||(D={}));var H;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(H||(H={}));var R;(function(e){e.CAMERA="camera",e.LOCATION="location",e.PHOTO="photo"})(R||(R={}));var I;(function(e){e.RU="ru",e.UK="uk",e.UA="ua",e.EN="en",e.BE="be",e.KZ="kz",e.PT="pt",e.ES="es"})(I||(I={}));var m;(function(e){e.ADMIN="admin",e.EDITOR="editor",e.MEMBER="member",e.MODER="moder",e.NONE="none"})(m||(m={}));var k;(function(e){e.DESKTOP_WEB="desktop_web",e.DESKTOP_WEB_MESSENGER="desktop_web_messenger",e.DESKTOP_APP_MESSENGER="desktop_app_messenger",e.MOBILE_WEB="mobile_web",e.MOBILE_ANDROID="mobile_android",e.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",e.MOBILE_IPHONE="mobile_iphone",e.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",e.MOBILE_IPAD="mobile_ipad"})(k||(k={}));function ne(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.includes(void 0)||e.includes(null)?ne.apply(void 0,e.filter(function(r){return typeof r=="function"})):function(r){if(e.length===0)return r;var i=function(){throw new Error("Sending events while constructing your middleware is not allowed. Other middleware would not be applied to this send.")},t={subscribe:r.subscribe,send:function(){for(var p=[],s=0;s<arguments.length;s++)p[s]=arguments[s];return r.send.apply(r,p)}},n=e.filter(function(p){return typeof p=="function"}).map(function(p){return p(t)}).reduce(function(p,s){return function(l){return p(s(l))}});return i=n(r.send),_(_({},r),{send:i})}}var re=function(e){var a={};try{var r=new URLSearchParams(e),i=function(t){switch(t){case"0":return 0;case"1":return 1;default:return}};r.forEach(function(t,n){switch(n){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":a[n]=Number(t);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":a[n]=t;break;case"odr_enabled":a.odr_enabled=t==="1"?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":{a[n]=i(t);break}case"vk_language":{var p=function(o){return Object.values(I).some(function(c){return c===o})};a.vk_language=p(t)?t:void 0;break}case"vk_viewer_group_role":{var s=function(o){return Object.values(m).some(function(c){return c===o})};a.vk_viewer_group_role=s(t)?t:void 0;break}case"vk_platform":{var l=function(o){return Object.values(k).some(function(c){return c===o})};a.vk_platform=l(t)?t:void 0;break}}})}catch(t){console.warn(t)}return a},te=X(ee);export{x as BannerAdAlign,D as BannerAdHeightType,M as BannerAdLayoutType,C as BannerAdLocation,H as BannerAdOrientation,N as EAdsFormats,m as EGetLaunchParamsResponseGroupRole,I as EGetLaunchParamsResponseLanguages,k as EGetLaunchParamsResponsePlatforms,R as EGrantedPermission,ne as applyMiddleware,te as default,re as parseURLSearchParamsForGetLaunchParams};
